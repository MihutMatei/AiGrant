{% extends "base.html" %}

{% block title %}My account · aiGrant{% endblock %}

{% block content %}

<style>
  .try-app-btn {
    position: relative;
    overflow: hidden;
    border: none;
    background: linear-gradient(135deg, #5e56f0, #4338ca);
    box-shadow: 0 4px 15px rgba(67, 56, 202, 0.3);
    text-decoration: none !important;   /* ← ADD THIS */
  }

  /* Hover: lift + glow + icon move */
  .try-app-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(67, 56, 202, 0.4);
    background: linear-gradient(135deg, #6c63ff, #4c46c4);
    text-decoration: none !important;   /* ← ADD THIS TOO */
  }

  .try-app-btn:hover i {
    transform: translateX(4px);
  }

  /* Optional: subtle shine animation */
  .try-app-btn::before {
    content: '';
    position: absolute;
    top: 0; left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.2), transparent);
    transition: 0.7s;
  }

  .try-app-btn:hover::before {
    left: 100%;
  }

  /* Bullet-proof: remove underline from any child (span, etc.) */
  .try-app-btn span,
  .try-app-btn:hover span {
    text-decoration: none !important;
  }
</style>

<div class="glass-card">
  <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4">
    <div>
      <h2 class="h4 fw-semibold mb-1">Company profile</h2>
      <p class="text-muted-soft small mb-0">
        These details are used to estimate grant eligibility.
      </p>
    </div>
    <span class="badge-soft d-inline-flex align-items-center gap-1">
      <i class="bi bi-envelope-at"></i>
      <span>{{ user.email }}</span>
    </span>
  </div>

  {% if message %}
    <div class="alert alert-success py-2 mb-4">
      <i class="bi bi-check-circle me-1"></i>
      {{ message }}
    </div>
  {% endif %}

  <form method="post" class="row g-3">
    <!-- Contact name -->
    <div class="col-12">
      <label class="form-label small text-uppercase text-muted-soft">Contact name</label>
      <input
        type="text"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.name }}"
        disabled
      >
    </div>

    <!-- Email -->
    <div class="col-12">
      <label class="form-label small text-uppercase text-muted-soft">Email</label>
      <input
        type="email"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.email }}"
        disabled
      >
    </div>

    <!-- CUI -->
    <div class="col-12">
      <label for="cui" class="form-label small text-uppercase text-muted-soft">CUI</label>
      <input
        type="text"
        id="cui"
        name="cui"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.cui }}"
        required
      >
    </div>

    <!-- Number of employees -->
    <div class="col-12">
      <label for="numar_angajati" class="form-label small text-uppercase text-muted-soft">
        Number of employees
      </label>
      <input
        type="number"
        id="numar_angajati"
        name="numar_angajati"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.numar_angajati }}"
        min="0"
        required
      >
    </div>

    <!-- Founder age -->
    <div class="col-12">
      <label for="varsta_dezvoltator" class="form-label small text-uppercase text-muted-soft">
        Founder age
      </label>
      <input
        type="number"
        id="varsta_dezvoltator"
        name="varsta_dezvoltator"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.varsta_dezvoltator }}"
        min="0"
      >
    </div>

    <!-- Additional details section -->
    <div class="col-12 mt-4">
      <h3 class="h6 text-uppercase text-muted-soft mb-2">Additional details</h3>
      <p class="text-muted-soft small mb-0">
        Optional context about your startup, product, team or traction that can be used later
        when generating tailored application documents.
      </p>
    </div>

    <!-- Additional info 1 -->
    <div class="col-12">
      <label for="additional_info_1" class="form-label small text-uppercase text-muted-soft">
        Additional info 1
      </label>
      <input
        type="text"
        id="additional_info_1"
        name="additional_info_1"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.additional_info_1 if user.additional_info_1 is defined else '' }}"
      >
    </div>

    <!-- Additional info 2 -->
    <div class="col-12">
      <label for="additional_info_2" class="form-label small text-uppercase text-muted-soft">
        Additional info 2
      </label>
      <input
        type="text"
        id="additional_info_2"
        name="additional_info_2"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.additional_info_2 if user.additional_info_2 is defined else '' }}"
      >
    </div>

    <!-- Additional info 3 -->
    <div class="col-12">
      <label for="additional_info_3" class="form-label small text-uppercase text-muted-soft">
        Additional info 3
      </label>
      <input
        type="text"
        id="additional_info_3"
        name="additional_info_3"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.additional_info_3 if user.additional_info_3 is defined else '' }}"
      >
    </div>

    <!-- Additional info 4 -->
    <div class="col-12">
      <label for="additional_info_4" class="form-label small text-uppercase text-muted-soft">
        Additional info 4
      </label>
      <input
        type="text"
        id="additional_info_4"
        name="additional_info_4"
        class="form-control bg-dark text-light border-secondary"
        value="{{ user.additional_info_4 if user.additional_info_4 is defined else '' }}"
      >
    </div>

    <!-- Additional info 5 (bigger textarea) -->
    <div class="col-12">
      <label for="additional_info_5" class="form-label small text-uppercase text-muted-soft">
        Additional info 5
      </label>
      <textarea
        id="additional_info_5"
        name="additional_info_5"
        class="form-control bg-dark text-light border-secondary"
        rows="3"
      >{{ user.additional_info_5 if user.additional_info_5 is defined else "" }}</textarea>
    </div>

    <!-- Additional info 6 (bigger textarea) -->
    <div class="col-12">
      <label for="additional_info_6" class="form-label small text-uppercase text-muted-soft">
        Additional info 6
      </label>
      <textarea
        id="additional_info_6"
        name="additional_info_6"
        class="form-control bg-dark text-light border-secondary"
        rows="3"
      >{{ user.additional_info_6 if user.additional_info_6 is defined else "" }}</textarea>
    </div>

    <!-- Bottom row: Save / text / Find grants -->
    <!-- Bottom row: Save / text / Find grants -->
    <div class="col-12 mt-3">
      <hr class="border-secondary mb-3">
      <div class="d-flex flex-wrap align-items-center justify-content-between gap-3">

        <!-- Save changes -->
        <button type="submit" name="action" value="save"
          class="btn btn-primary d-inline-flex align-items-center gap-2 text-nowrap try-app-btn"
          style="
            font-size: 1rem;
            padding: 0.6rem 2.5rem !important;
            width: fit-content !important;
            display: inline-flex !important;
            transition: all 0.25s ease;
          ">
          <i class="bi bi-save"></i>
          <span>Save changes</span>
        </button>

        <!-- Middle text -->
        <div class="text-muted-soft small flex-grow-1 text-center d-flex align-items-center justify-content-center">
          After updating your profile, discover which grants might fit your startup.
        </div>

        <!-- Find grants (also submits form) -->
        <button type="submit" name="action" value="find_grants"
          class="btn btn-outline-light d-inline-flex align-items-center gap-2 text-nowrap try-app-btn"
          style="
            font-size: 1rem;
            padding: 0.6rem 2.5rem !important;
            width: fit-content !important;
            display: inline-flex !important;
            transition: all 0.25s ease;
          ">
          <i class="bi bi-compass"></i>
          <span>Find grants</span>
        </button>

      </div>
    </div>


      </div>
    </div>
  </form>
</div>
{% endblock %}
